{"ast":null,"code":"import _toConsumableArray from\"/Users/egormaksimov/Documents/PROGRAMMING/living rules/living/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/egormaksimov/Documents/PROGRAMMING/living rules/living/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from\"react\";import Styles from\"./AttachPhoto.module.scss\";import ModalWindow from\"../ModalWindow/ModalWindow\";import{OrangeButton}from\"../../elements/orangeButton/button\";import{useOutsideAlerter}from\"../../hooks/useOutsideAlerter\";import clip from\"../../images/clip.svg\";import PhoneInput from\"../PhoneInput/PhoneInput\";import trash from\"../../images/trash.svg\";import{CountryCodeSelector}from\"../../elements/countryCodeSelector/countryCodeSelector\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AttachPhoto=function AttachPhoto(_ref){var setIsOpen=_ref.setIsOpen;var boxRef=useRef(null);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),photos=_useState2[0],setPhotos=_useState2[1];useOutsideAlerter(boxRef,function(){return setIsOpen(false);});var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),phone=_useState4[0],setPhone=_useState4[1];var handleInput=function handleInput(_ref2){var value=_ref2.target.value;return setPhone(value);};var clearInput=function clearInput(event){event.target.value=null;};var attachPhoto=function attachPhoto(event){var photosFromFiles=event.target.files;setPhotos(_toConsumableArray(photosFromFiles));};var removeAttachment=function removeAttachment(fileIndex){setPhotos(_toConsumableArray(photos.filter(function(photo,index){return fileIndex!=index;})));};return/*#__PURE__*/_jsxs(\"div\",{className:Styles.main,ref:boxRef,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u041F\\u0440\\u0438\\u043A\\u0440\\u0435\\u043F\\u0438\\u0442\\u044C \\u0444\\u043E\\u0442\\u043E\"}),/*#__PURE__*/_jsx(\"p\",{className:Styles.subtext,children:\"\\u041E\\u0442\\u0432\\u0435\\u0442\\u0438\\u043C \\u0432 \\u0442\\u0435\\u0447\\u0435\\u043D\\u0438\\u0438 \\u0441\\u0443\\u0442\\u043E\\u043A\"}),/*#__PURE__*/_jsxs(\"p\",{className:Styles.fieldName,children:[\"\\u041A\\u0430\\u043A \\u0432\\u0430\\u0441 \\u0437\\u043E\\u0432\\u0443\\u0442?\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0418\\u0432\\u0430\\u043D\"}),/*#__PURE__*/_jsxs(\"p\",{className:Styles.fieldName,children:[\"\\u0418\\u0437 \\u043A\\u0430\\u043A\\u043E\\u0433\\u043E \\u0432\\u044B \\u0433\\u043E\\u0440\\u043E\\u0434\\u0430?\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u041C\\u043E\\u0441\\u043A\\u0432\\u0430\"}),/*#__PURE__*/_jsxs(\"p\",{className:Styles.fieldName,children:[\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u043E\\u043C\\u0435\\u0440 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:Styles.phoneBox,children:[/*#__PURE__*/_jsx(CountryCodeSelector,{}),/*#__PURE__*/_jsx(PhoneInput,{value:phone,onChange:handleInput})]}),/*#__PURE__*/_jsxs(\"p\",{className:Styles.fieldName,children:[\"\\u041F\\u0440\\u0438\\u043A\\u0440\\u0435\\u043F\\u0438\\u0442\\u044C \\u0444\\u043E\\u0442\\u043E\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:Styles.filesBox,style:photos.length>1?{height:\"115px\"}:null,children:[photos.length===0?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"p\",{children:\"PDF, JPG\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(Styles.fileNamesBox,\" \").concat(Styles.file),children:photos.map(function(photo,index){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:Styles.fileName,children:photo.name},index),/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return removeAttachment(index);},src:trash,alt:\"\"})]});})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"attachFile\",children:/*#__PURE__*/_jsx(\"img\",{src:clip,alt:\"\"})}),/*#__PURE__*/_jsx(\"input\",{style:{display:\"none\"},onClick:function onClick(e){return clearInput(e);},onChange:function onChange(e){return attachPhoto(e);},accept:\"image/*\",type:\"file\",multiple:true,id:\"attachFile\"})]}),/*#__PURE__*/_jsx(\"p\",{className:Styles.fieldName,children:\"\\u041E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u043A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0434\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"p\",{className:Styles.subtext,children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u044F\\u044F, \\u0432\\u044B \\u0441\\u043E\\u0433\\u043B\\u0430\\u0448\\u0430\\u0435\\u0442\\u0435\\u0441\\u044C \\u0441\\xA0\\u043F\\u043E\\u043B\\u0438\\u0442\\u0438\\u043A\\u043E\\u0439 \\u043A\\u043E\\u043D\\u0444\\u0438\\u0434\\u0435\\u043D\\u0446\\u0438\\u0430\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u0438\"}),/*#__PURE__*/_jsx(OrangeButton,{name:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\",width:\"275px\"})]});};var PhotoAttachModalWindow=function PhotoAttachModalWindow(_ref3){var setIsOpen=_ref3.setIsOpen;return/*#__PURE__*/_jsx(ModalWindow,{children:/*#__PURE__*/_jsx(AttachPhoto,{setIsOpen:setIsOpen})});};export default PhotoAttachModalWindow;","map":{"version":3,"names":["React","useRef","useState","Styles","ModalWindow","OrangeButton","useOutsideAlerter","clip","PhoneInput","trash","CountryCodeSelector","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AttachPhoto","_ref","setIsOpen","boxRef","_useState","_useState2","_slicedToArray","photos","setPhotos","_useState3","_useState4","phone","setPhone","handleInput","_ref2","value","target","clearInput","event","attachPhoto","photosFromFiles","files","_toConsumableArray","removeAttachment","fileIndex","filter","photo","index","className","main","ref","children","subtext","fieldName","type","placeholder","phoneBox","onChange","filesBox","style","length","height","concat","fileNamesBox","file","map","fileName","name","onClick","src","alt","htmlFor","display","e","accept","multiple","id","width","PhotoAttachModalWindow","_ref3"],"sources":["/Users/egormaksimov/Documents/PROGRAMMING/living rules/living/src/components/AttachPhoto/AttachPhoto.js"],"sourcesContent":["import React, { useRef, useState } from \"react\";\nimport Styles from \"./AttachPhoto.module.scss\";\nimport ModalWindow from \"../ModalWindow/ModalWindow\";\nimport { OrangeButton } from \"../../elements/orangeButton/button\";\nimport { useOutsideAlerter } from \"../../hooks/useOutsideAlerter\";\nimport clip from \"../../images/clip.svg\";\nimport PhoneInput from \"../PhoneInput/PhoneInput\";\nimport trash from \"../../images/trash.svg\";\nimport { CountryCodeSelector } from \"../../elements/countryCodeSelector/countryCodeSelector\";\n\nconst AttachPhoto = ({ setIsOpen }) => {\n  const boxRef = useRef(null);\n  const [photos, setPhotos] = useState([]);\n  useOutsideAlerter(boxRef, () => setIsOpen(false));\n  const [phone, setPhone] = useState(\"\");\n  const handleInput = ({ target: { value } }) => setPhone(value);\n\n  const clearInput = (event) => {\n    event.target.value = null;\n  };\n\n  const attachPhoto = (event) => {\n    const photosFromFiles = event.target.files;\n    setPhotos([...photosFromFiles]);\n  };\n\n  const removeAttachment = (fileIndex) => {\n    setPhotos([...photos.filter((photo, index) => fileIndex != index)]);\n  };\n\n  return (\n    <div className={Styles.main} ref={boxRef}>\n      <h2>Прикрепить фото</h2>\n      <p className={Styles.subtext}>Ответим в течении суток</p>\n      <p className={Styles.fieldName}>\n        Как вас зовут?<span>*</span>\n      </p>\n      <input type=\"text\" placeholder=\"Иван\" />\n      <p className={Styles.fieldName}>\n        Из какого вы города?<span>*</span>\n      </p>\n      <input type=\"text\" placeholder=\"Москва\" />\n      <p className={Styles.fieldName}>\n        Введите номер телефона<span>*</span>\n      </p>\n      <div className={Styles.phoneBox}>\n        <CountryCodeSelector />\n        <PhoneInput value={phone} onChange={handleInput}></PhoneInput>\n      </div>\n      <p className={Styles.fieldName}>\n        Прикрепить фото<span>*</span>\n      </p>\n      <div\n        className={Styles.filesBox}\n        style={photos.length > 1 ? { height: \"115px\" } : null}\n      >\n        {photos.length === 0 ? (\n          <>\n            <p>PDF, JPG</p>\n          </>\n        ) : (\n          <div className={`${Styles.fileNamesBox} ${Styles.file}`}>\n            {photos.map((photo, index) => {\n              return (\n                <div>\n                  <p key={index} className={Styles.fileName}>\n                    {photo.name}\n                  </p>\n                  <img\n                    onClick={() => removeAttachment(index)}\n                    src={trash}\n                    alt=\"\"\n                  />\n                </div>\n              );\n            })}\n          </div>\n        )}\n        <label htmlFor=\"attachFile\">\n          <img src={clip} alt=\"\" />\n        </label>\n        <input\n          style={{ display: \"none\" }}\n          onClick={(e) => clearInput(e)}\n          onChange={(e) => attachPhoto(e)}\n          accept=\"image/*\"\n          type=\"file\"\n          multiple\n          id=\"attachFile\"\n        />\n      </div>\n      <p className={Styles.fieldName}>Оставить комментарий</p>\n      <input type=\"text\" placeholder=\"добавить\" />\n      <p className={Styles.subtext}>\n        Отправляя, вы соглашаетесь с&nbsp;политикой конфиденциальности\n      </p>\n      <OrangeButton name=\"Отправить\" width=\"275px\" />\n    </div>\n  );\n};\n\nconst PhotoAttachModalWindow = ({ setIsOpen }) => {\n  return (\n    <ModalWindow>\n      <AttachPhoto setIsOpen={setIsOpen} />\n    </ModalWindow>\n  );\n};\n\nexport default PhotoAttachModalWindow;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}